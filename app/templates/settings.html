{% extends "base.html" %}
{% block title %}Settings{% endblock %}
{% block content %}
<h1>Bot Settings</h1>

{% if not config_json_exists %}
<div class="note">
    No <code>config.json</code> found. Changes are saved to <code>.env</code>.
    Restart the container after saving to apply all changes.
</div>
{% endif %}

<div class="card">
    <form method="POST" action="/admin/settings">

        <div class="form-group" style="margin-bottom:16px">
            <label for="allowed_types">Allowed Item Types <span style="font-weight:400;color:#6c757d">(one per line)</span></label>
            <textarea id="allowed_types" name="allowed_types" rows="4" style="width:100%;max-width:400px">{{ allowed_types_str }}</textarea>
        </div>

        <div class="form-row" style="margin-bottom:16px">
            <div class="form-group">
                <label for="min_len_str">Min string length</label>
                <input type="number" id="min_len_str" name="min_len_str" value="{{ settings.min_len_str }}" min="1" style="width:100px">
            </div>
            <div class="form-group">
                <label for="max_len_str">Max string length</label>
                <input type="number" id="max_len_str" name="max_len_str" value="{{ settings.max_len_str }}" min="1" style="width:100px">
            </div>
        </div>

        <div class="form-row" style="margin-bottom:16px">
            <div class="form-group">
                <label for="max_item_amount">Max item amount</label>
                <input type="number" id="max_item_amount" name="max_item_amount" value="{{ settings.max_item_amount }}" min="1" style="width:140px">
            </div>
            <div class="form-group">
                <label for="max_item_price">Max item price</label>
                <input type="number" id="max_item_price" name="max_item_price" value="{{ settings.max_item_price }}" min="0" step="0.01" style="width:140px">
            </div>
        </div>

        <div class="form-group" style="margin-bottom:20px;flex-direction:row;align-items:center;gap:8px">
            <input type="checkbox" id="skip_working_hours" name="skip_working_hours"
                   {% if settings.skip_working_hours %}checked{% endif %}
                   style="width:16px;height:16px">
            <label for="skip_working_hours" style="font-size:14px;font-weight:500">Skip working hours check</label>
        </div>

        <button type="submit" class="btn btn-success">Save Settings</button>
    </form>
</div>
{% endblock %}
